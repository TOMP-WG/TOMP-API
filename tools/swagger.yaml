openapi: 3.0.0
# Added by API Auto Mocking Plugin
servers:
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/efel85/GBFS/1.0.6
info:
  description: General Transport Operator API Specification
  version: "1.0.6"
  title: General Transport Operator API Specification
  contact:
    email: edoardo.felici@minienw.nl
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'

tags:
  - name: operator information
    description: gives information about systems, stations, operating hours [from GBFS]
    
  - name: planning
    description: gives information about transport asset availability and pricing [free_bike_status and system_pricing_plans in GBFS]
    
  - name: booking
    description: a booking is the main object exchanged between MaaS and a
      TSP [from MaaS-API].
    externalDocs:
      description: Booking scenarios
      url: 'https://github.com/maasglobal/maas-tsp-api/blob/master/specs/Booking.md'
      
  - name: trip execution
    description: provides asset location, grants access or exit from an asset or transport system, offers trip monitoring [addendum]
    
  - name: payment
    description: arranges financial settlement for legs and trips
    
  - name: support
    description: support for the user while the trip is being executed
    
security:
  - key: []
paths:
  /bookings/options:
    get:
      description: Returns available transport options for given coordinate. Start time can be defined, but is optional. If startTime is not provided, but required by the third party API, a default value of "Date.now()" is used. [from MaaS-API /listing]
      tags:
        - booking
      parameters:
        - name: from
          description: User's location in comma separated form e.g. 60.123,27.456 (lat/long, WGS84)
          in: query
          required: true
          schema:
            type: string
            pattern: ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
        - name: radius
          description: Maximum distance a user wants to travel to reach asset in metres, e.g. 500 metres
          in: query
          required: false
          schema:
            type: string
        - name: to
          description: A desired destination e.g. 60.123,27.456 (lat/long, WGS84)
          in: query
          required: false
          schema:
            type: string
            pattern: ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
        - name: share
          description: Defines if user can also share a ride
          in: query
          required: false
          schema:
            enum:
            - YES
            - NO
            
      responses:
        '200':
          description: Available transport methods matching the given query parameters. If no transport methods are available, an empty array is returned.
          content:
            application/json:
              schema:
                name: options
                type: array
                description: Available transport options for the queried TSP
                items:
                $ref: '#/components/schemas/options'
        '400':
          description: If coordinates given in the request are invalid the server returns
            400 Bad request as a response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
                
  /bookings/:
    get:
      description: Returns the `Booking` that has been created earlier
      tags:
        - booking
      parameters:
        - name: state
          description: The state of the booking to fetch
          in: query
          required: true
          schema:
            type: string
            enum: [BOOKED, CANCELLED, PAID, UPDATE-REQUESTED, UPDATED, STARTED, FINISHED]
      responses:
        '200':
          description: The bookings matching the query
          content:
            application/json:
              schema:
                type: array
                description: The bookings that matched the query (zero or more)
                minItems: 0
                items:
                  $ref: '#/components/schemas/booking'
        '400':
          description: Bad request (invalid query parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      x-serverless-endpoint: echo~GET
    post:
      description: Creates a new `Booking` for the TSP in **booked** state. The returned
        object will be a reference that is passed back & forth throughout the
        booking life cycle.
        The Booking may be modified in the response, e.g. location being
        adjusted for a more suitable pick-up location.
        In addition, the service may contain a **meta** attribute for arbitrary
        TSP metadata that the TSP needs later, and **token** attribute depicting
        how long the current state is valid.
      tags:
        - booking
      responses:
        '200':
          description: A new booking was succesfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/booking'
        '400':
          description: Bad request (invalid body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/new-booking'
        description: New `Booking` data
        required: true
      parameters: []
  /bookings/{id}:
    get:
      description: Returns the `Bookings` that have been created through the system.
      tags:
        - booking
      parameters:
        - name: id
          in: path
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The booking was found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/booking'
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
    put:
      description: Modifies the state of a `Booking`, e.g. **cancels**, **pays** or
        **reschedules** it. The previous booking information is passed forward
        as-is for reference.
      tags:
        - booking
      parameters:
        - name: id
          in: path
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The booking was modified
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/booking'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/booking'
        description: New `Booking` data
        required: true
  /free-asset-status:
    get:
      tags:
        - planning
      summary: describes asset availability
      description: describes assets that are available for use [free_bike_status in GBFS and amended] and returns pricing for requested leg
      
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/free-asset-status'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/free-asset-status'
        '400':
          description: bad input parameter
    parameters:
      - name: requested-leg-options
        in: query
        description: added to allow looking for specific asset requirements and return cost calculation by transport operator
        required: false
        schema:
          $ref: '#/components/schemas/options'
  /leg-summary/{id}:
    get:
      description: generates a summary of the specific leg
      tags:
        - trip execution
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: operation successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/leg'
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
  /monitor-trip/{id}:
    get:
      description: monitors the current location of the asset and duration & distance of the trip
      tags:
        - trip execution
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: operation successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/monitor'
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
  /notification/{id}:
    get:
      description: notification between MaaS provider and Transport operator in case of user no-show or if specific asset is not available [addendum]
      tags: 
        - trip execution
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: notifications available for given booking identifier
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/notification'
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
  /provide-location/{id}:
    get:
      description: provides location of specific asset related to a booking
      tags:
        - trip execution
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: asset location provided
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coordinates'
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
  /request-access/{id}:
    put:
      description: provides access to an asset or transport system
      tags:
        - trip execution
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: access granted
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
  /request-exit/{id}:
    put:
      description: provides exit from an asset or transport system
      tags:
        - trip execution
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: exit granted
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
  /request-pause/{id}:
    put:
      description: provides option to temporarily pause/park asset rental (in case lower fares are given for parked assets)
      tags:
        - trip execution
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: pausing granted
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
  /station-information:
    get:
      tags:
        - operator information
      summary: describes all available stations
      description: All stations contained in this list are considered public (ie, can be shown on a map for public use). If there are private stations (such as Capital Bikeshareâ€™s White House station) these should not be exposed here and their status should not be included [from GBFS]
        
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/station-information'

            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/station-information'
        400:
          description: bad input parameter
  /support-request/{id}/{support-type}:
    put:
      description: identifies a request for support from user via MSP
      tags:
        - support
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
        - name: support-type
          in: path
          description: type of support needed
          required: true
          schema:
            enum: [ BROKEN-DOWN, NOT-AT-LOCATION, NOT-CLEAN, NOT-AVAILABLE, UNABLE-TO-OPEN, UNABLE-TO-CLOSE, OTHER ]
      responses:
        '200':
          description: support request acknowledged
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
                
  /support-status/{id}:
    get:
      description: identifies the current status of the support request
      tags:
        - support
      parameters:
        - name: id
          in: path  
          description: Booking identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: support status delivered
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/support-status'
        '400':
          description: Bad request (invalid query or body parameters)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '401':
          description: Authorization error (invalid API key)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: The booking was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/error'
  /system-alerts:
    get:
      tags:
      - operator information
      summary: informs customers about changes to the system outside of normal operations
      description: This feed is intended to inform customers about changes to the system that do not fall within the normal system operations. For example, system closures due to weather would be listed here, but a system that only operated for part of the year would have that schedule listed in the system-calendar.json feed. This file is an array of alert objects defined as below. Obsolete alerts should be removed so the client application can safely present to the end user everything present in the feed. The consumer could use the start/end information to determine if this is a past, ongoing or future alert and adjust the presentation accordingly. [from GBFS]
      
      responses:
        '200':
          description: returns currently active system alerts 
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-alert'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-alert'
        '400':
          description: bad input parameter
  /system-calendar:
    get:
      tags:
        - operator information
      summary: describes the operating calendar for a system. An array of year objects defined as follows (if start/end year are omitted, then assume the start and end months do not change from year to year). [from GFBS]
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-calendar'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-calendar'
        400:
          description: bad input parameter
  /system-hours:
    get:
      tags:
        - operator information
      summary: describes the system hours of operation
      description: Describes the hours of operation of all available systems of the transport operator [from GBFS]
      
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-hours'
                
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-hours'
        '400':
          description: bad input parameter
  /system-information:
    get:
      tags:
      
        - operator information
      summary: describes the system
      description: Describes the system including System operator, System location, year implemented, URLs, contact info, time zone. [from GBFS]
      
      responses:
              200:
                description: successful operation
                content:
                  application/json:
                    schema:
                      type: array
                      items:
                        $ref: '#/components/schemas/system-information'
                    example:
                      system-id: XXTO0001
                      language: eng
                      name: FreeBike
                      timezone: IST
                      type-of-system: free-floating
                  application/xml:
                    schema:
                      type: array
                      items:
                        $ref: '#/components/schemas/system-information'
                    example:
                      system-id: NLTO0001
                      language: eng
                      name: FreeBike
                      timezone: IST
                      type-of-system: free-floating  
              400:
                description: bad input parameter
  /system-pricingplans:
    get:
      tags:
       - operator information
      summary: gives pricing information
      description: Describes pricing of systems or assets [from GBFS]
       
      responses:
        '200':
          description: returns standard pricing plans for an operator
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-pricing-plan'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-pricing-plan'
        '400':
          description: bad input parameter
  /system-regions:
    get:
      tags:
        - operator information
      summary: describes regions for a system that is broken up by geographic or political region. It is defined as a separate feed to allow for additional region metadata (such as shape definitions). [from GBFS]
      
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-region'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/system-region'
        400:
          description: bad input parameter          
components:
  schemas:
    booking:
      type: object
      description: The booking information describing the state and details of the
        transaction
      required:
        - id
        - state
        - leg
        - customer
        - token
      allOf:
        - $ref: '#/components/schemas/new-booking'
      properties:
        id:
          description: The identifier MaaS will be using to referring to the booking
          type: string
        state:
          $ref: '#/components/schemas/booking-state'
        terms:
          $ref: '#/components/schemas/booking-state'
        token:
          $ref: '#/components/schemas/token'
        meta:
          description: Arbitrary metadata that a TO can add
          type: object
    booking-state:
      description: The life-cycle state of the booking (from NEW to FINISHED)
      type: string
      enum: [NEW, BOOKED, CANCELLED, PAID, UPDATEREQUESTED, UPDATED, STARTED, FINISHED]
      example: BOOKED
    coordinates:
      type: array
      description: a lon, lat (WGS84, EPSG:4326) in an array
      minLength: 2
      maxLength: 2
      items:
        type: number
    customer:
      type: object
      required:
        - id
      properties:
        id:
          description: The identifier MaaS uses to identify the customer
          type: string
          example: 123456
        first-name:
          description: First name of the customer
          type: string
          example: John
        last-name:
          description: Last name of the customer
          type: string
          example: Doe
        phone:
          description: Phone number that the customer may be reached from
          type: string
    
    day:
      type: string
      enum: [MON, TUE, WED, THU, FRI, SAT, SUN]
    distance:
      description: The estimated distance travelled in the leg (in meters)
      type: integer
      minimum: 0
      example: 7250
    duration:
      description: A duration of some time (relative to time) in milliseconds
      type: integer
      maximum: 2147483647
      minimum: 0
      example: 11112
    error:
      type: object
      description: An error that the service may send, e.g. in case of invalid input,
        missing authorization or internal service error.
      required:
        - message
        - code
      properties:
        message:
          type: string
          description: A human readable error message (preferrably in English)
          example: invalid input
        code:
          type: string
          description: A TO internal error code, used for reference
          example: 12345
    
    fare:
      description: fare price for specific leg request [amended from MaaS-API] This should be in the base unit as defined by the ISO 4217 currency code with the appropriate number of decimal places and omitting the currency symbol. e.g. if the price is in US Dollars the price would be 9.95
      type: number
      example: 9.95
    free-asset-status:
      required:
        - assets
        - asset-id
        - place
        - is-reserved
        - is-disabled
        - pricing
      properties:
        assets:
          type: object
          description: Array that contains one object per asset that is currently available
          properties:
            asset-id:
              type: string
              description: unique identifier of an asset
            place:
              $ref: '#/components/schemas/place'
            is-reserved:
              type: boolean
              description: true indicates the bike is currently reserved for someone else
            is-reserved-from:
              $ref: '#/components/schemas/timestamp' 
              description: optional addition to determine if an asset is reserved in the future
            is-reserved-to:
              $ref: '#/components/schemas/timestamp' 
              description: optional addition to determine when asset is available in the future
            is-disabled:
              type: boolean
              description: true indicates the asset is currently disabled (broken)
            pricing:
              $ref: '#/components/schemas/fare'
            rental-url:
              type: string
              description: deep-linking option from GBFS+
              format: URL
              example: https://www.rentmyfreebike.com/rental
            type-of-asset:
              description: added to give option to describe asset when checking availability
              $ref: '#/components/schemas/options'
    lat:
      type: number
      description: The field value must be a valid WGS84 latitude in decimal degrees format.
      minimum: -90
      maximum: 90
      example: 52.376883
    leg:
      type: object
      description: A OpenTripPlanner compatible definition of a leg (see OpenTripPlanner docs for reference)
      additionalProperties: true
      required:
        - from
        - to
        - mode
        - start-time
        - end-time
      properties:
        from:
          description: The coordinates the TO should use to resolve leg start location
          $ref: '#/components/schemas/place'
        to:
          description: The coordinates the TO should use to resolve leg finish location
          $ref: '#/components/schemas/place'
        start-time:
          $ref: '#/components/schemas/timestamp'
        end-time:
          $ref: '#/components/schemas/timestamp'
        mode:
          $ref: '#/components/schemas/mode'
        departure-delay:
          $ref: '#/components/schemas/duration'
        arrival-delay:
          $ref: '#/components/schemas/duration'
        distance:
          $ref: '#/components/schemas/distance'
        fare:
          $ref: '#/components/schemas/fare'
        route:
          type: string
        route-short-name:
          type: string
        route-long-name:
          type: string
        agency-id:
          type: string
        leg-geometry:
          $ref: '#/components/schemas/leg-geometry'
    leg-geometry:
      type: object
      additionalProperties: true
      properties:
        points:
          type: array
          items: 
            $ref: '#/components/schemas/coordinates'
          minLength: 1
    lon:
      type: number
      description: The field value must be a valid WGS84 longitude in decimal degrees format.
      minimum: -180
      maximum: 180
      example: 4.90017
    mode:
      description: The modality of the leg
      required:
        - modality
      properties:
        modality:
          type: string
          enum: [WALK, BIKE, CARGO-BIKE, MOPED, SCOOTER, STEP, SEGWAY, CAR, TAXI, PUBLIC-BUS, COACH-BUS, OFFICE-BUS, TRAM, LIGHTRAIL, METRO, TRAIN, FERRY, WATER-TAXI, WATER-BUS, AIRLINE]
        fuel:
          type: string
          enum: [GASOLINE, DIESEL, ELECTRIC, HYBRID-GASOLINE, HYBRID-DIESEL, HYBRID-GAS, HYBRID-GAS, HYDROGEN, GAS, BIO-MASS, KEROSINE, OTHER]
        energy-label:
          type: string
          enum: [A,B,C,D,E]
        co2-per-km:
          type: number
        brand:
          type: string
        model:
          type: string
        building-year:
          type: number
    monitor:
      type: string
      description: provides current asset location & duration and distance of the current leg
      required:
        - location
        - duration
        - distance
      properties:
        location:
          $ref: '#/components/schemas/coordinates'
        duration:
          $ref: '#/components/schemas/duration'
        distance:
          $ref: '#/components/schemas/distance'
    new-booking:
      type: object
      description: A new booking, created by MaaS POST request in 'new' state
      required:
        - leg
        - customer
      properties:
        state:
          type: string
          description: The state of the booking (always new for new bookings)
          enum: [NEW]
        leg:
          $ref: '#/components/schemas/leg'
        customer:
          $ref: '#/components/schemas/customer'
    notification:
      description: notifies the MaaS operator of issues with a booking [addendum]
      type: string
      enum: [VEHICLE-NOT-AVAILABLE, USER-NO-SHOW]
      example: VEHICLE-NOT-AVAILABLE
    options:
      type: object
      description: Containing an array of available options matching the query
      properties:
        leg:
          $ref: '#/components/schemas/options-leg'
        meta:
          $ref: '#/components/schemas/type-of-asset'
    options-coordinates:
      deprecated: true
      type: object
      properties:
        lat:
          $ref: '#/components/schemas/lat'
        lon:
          $ref: '#/components/schemas/lon'
    options-leg:
      type: object
      properties:
        start-time:
          $ref: '#/components/schemas/timestamp'
        end-time:
          $ref: '#/components/schemas/timestamp'
        from:
          $ref: '#/components/schemas/coordinates'
        to:
          $ref: '#/components/schemas/coordinates'
    options-meta:
      deprecated: true
      description: replaced with type-of-asset
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        image:
          type: string
          format: url
        asset:
          type: object
          properties:
            passengers:
              type: integer
    period:
      type: object
      properties:
        start-time:
          $ref: '#/components/schemas/timestamp'
        end-time:
          $ref: '#/components/schemas/timestamp'
    place:
      type: object
      description: a origin or destination of a leg, non 3D. lon/lat in WGS84.
      additionalProperties: true
      required:
        - location
      properties:
        name:
          description: Human readable name of the place
          type: string
        stop-reference:
          type: array
          items:
            $ref: '#/components/schemas/stop-reference'
        location:
          $ref: '#/components/schemas/coordinates'
    station-information:
      required:
        - station-id
        - name
        - location
      properties:  
            station-id:
              type: string
              description: unique identifier of a station
              example: XX:Y:12345678
            name:
              type: string
              description: public name of the station
              example: Island Central
            location:
              $ref: '#/components/schemas/coordinates'
            address:
              type: string
              description: Valid street number and name where station is located. This field is intended to be an actual address, not a free form text description (see "crossstreet")
              example: Main Road 1
            cross-street:
              type: string
              description: Cross street of where the station is located. This field is intended to be a descriptive field for human consumption. In cities, this would be a cross street, but could also be a description of a location in a park, etc.
              example: on the corner with Secondary Road 
            region-id:
              type: string
              description: ID of the region where the station is located (see "system-regions")
            postal-code:
              type: string
              description: Postal code where station is located
              example: X123456
            rental-methods:
              type: array
              description: Array of enumerables containing the payment methods accepted at this station. 
              items:
                type: string
                enum: [KEY, CREDITCARD, PAYPASS, APPLEPAY, ANDROIDPAY, TRANSITCARD, ACCOUNTNUMBER, PHONE]
              example: [CREDITCARD,PAYPASS,APPLEPAY]
            rental-url:
              type: string
              format: URL
              example: https://www.rentmyfreebike.com
    
    stop-reference:
      type: object
      description: reference to a stop (can be nation specific). This can help to specific pinpoint a (bus) stop. Extra information about the stop is not supplied; you should find it elsewhere.
      required:
        - type
        - id
        - country
      properties:
        type:
          type: string
          description: type of external reference (GTFS, CHB). This should be extended
          enum: [GTFS-STOP-ID, GTFS-STOP-CODE, GTFS-AREA-ID, CHB-STOP-PLACE-CODE, CHB-QUAY-CODE, NS-CODE]
        id:
          type: string
          description: this field should contain the complete ID. E.g. NL:S:13121110 or BE:S:79640040
        country:
          type: string
          description: country where the stop is located
    support-status:
      description: the current status of support
      type: object
      properties:
        status:
          type: string
          enum: [PROCESSING, UPDATE-REQUESTED, RESOLVED, CANCELLED]
          example: PROCESSING
        time-to-resolution:
          type: integer
          description: time in minutes to expected resolution of support request
          example: 9
    system-alert:
      type: object
      required:
        - alert-id
        - alert-type
        - start
        - summary
      properties:
        alert-id:
          type: string
          description: a unique identifier for this alert
        alert-type:
          type: string
          enum: [SYSTEMCLOSURE, STATIONCLOSURE, STATIONMOVE, OTHER]
        start-and-end-times:
          description: Array of hashes with the keys "start" and "end" indicating when the alert is in effect (e.g. when the system or station is actually closed, or when it is scheduled to be moved). If this array is omitted then the alert should be displayed as long as it is in the feed.
          type: array
          items:
            $ref: '#/components/schemas/period'
        station-ids:
          type: array
          items:
            type: string
          description: Array of strings - If this is an alert that affects one or more stations, include their ids, otherwise omit this field. If both stationIDs and regionIDs are omitted, assume this alert affects the entire system
          example: stationID0001
        region-id:
          type: array
          items:
            type: string
          description: Array of strings - If this system has regions, and if this alert only affects certain regions, include their ids, otherwise, omit this field. If both stationIDs and regionIDs are omitted, assume this alert affects the entire system
          example: regionID0001
        url:
          type: string
          format: hostname
          description: URL where the customer can learn more information about this alert, if there is one
          example: http://www.rentmyfreebike.com/alerts
        summary:
          type: string
          description: A short summary of this alert to be displayed to the customer
          example: station closed
        description:
          type: string
          description: Detailed text description of the alert
          example: station closed indefinitely due to vandalism
        last-updated:
          $ref: '#/components/schemas/timestamp'
    system-calendar:
      type: object
      required:
        - start-month
        - start-day
        - end-month
        - end-day
      properties:
        start-month:
          type: integer
          minimum: 1
          maximum: 12
          description: Starting month for the system operations (1-12)
          example: 1
        start-day:
          type: integer
          minimum: 1
          maximum: 31
          description: Starting day for the system operations (1-31)
          example: 1
        start-year:
          type: integer
          description: Starting year for the system operations
          example: 2019
        end-month:
          type: integer
          minimum: 1
          maximum: 12
          description: Ending month for the system operations (1-12)
          example: 12
        end-day:
          type: integer
          minimum: 1
          maximum: 31
          description: Ending day for the system operations (1-31)
          example: 31
        end-year:
          type: integer
          description: Ending year for the system operations
          example: 2099
    system-hours:
      required:
        - user-type
        - days
        - start-time
        - end-time
      properties:
        user-type:
          type: string
          description: This indicates that this set of rental hours applies to either members or non-members only.
          enum: [MEMBER, NON-MEMBERS]
          example: MEMBER
        start-time:
          $ref: '#/components/schemas/time'
        end-time:
          $ref: '#/components/schemas/time'
        days:
          type: array
          description: An array of abbreviations (first 3 letters) of English names of the days of the week that this hour object applies to (i.e. ["mon", "tue"]). Each day can only appear once within all of the hours objects in this feed.    		  
          items:
            $ref: '#/components/schemas/day'
    system-information:
      description: operation successful
      required:
        - system-id
        - language
        - name
        - timezone
        - type-of-system
      properties:
          system-id:
            description: identifier for this transport system. This should be globally unique (even between different systems)
            type: string
            example: XXTO0001
          language:
            description: An IETF language tag indicating the language that will be used throughout the rest of the files. This is a string that defines a single language tag only.
            type: string
            format: ietf
            example: eng
          name:
            description: Full name of the system to be displayed to customers
            type: string
            example: FreeBike
          short-name:
            description: Optional abbreviation for a system
            type: string
            example: FB
          operator:
            description: Name of the operator of the system
            type: string
            example: FreeBike
          url:
            description: The URL of the transport operator. The value must be a fully qualified URL that includes http:// or https://, and any special characters in the URL must be correctly escaped.
            type: string
            example: https://www.rentmyfreebike.com
          purchase-url:
            description: A fully qualified URL where a customer can purchase a membership or learn more about purchasing memberships
            type: string
            example: https://www.rentmyfreebike.com/purchase
          start-date:
            description: String in the form YYYY-MM-DD representing the date that the system began operations
            type: string
            format: date
            example: 2019-01-01
          phone-number:
            description: A single voice telephone number for the specified system. This field is a string value that presents the telephone number as typical for the system's service area. It can and should contain punctuation marks to group the digits of the number.
            type: string
            example: 555-12345
          email:
            description: A single contact email address for customers to address questions about the system
            type: string
            format: email
            example: rent@freebike.com
          timezone:
            description: The time zone where the system is located. Time zone names never contain the space character but may contain an underscore. Please refer to the "TZ" value in https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for a list of valid values
            type: string
            example: IST
          license-url:
            description: A fully qualified URL of a page that defines the license terms for the GBFS data for this system, as well as any other license terms the system would like to define (including the use of corporate trademarks, etc)
            type: string
            example: https://www.rentmyfreebike.com/license
          type-of-system:
            description: Describes the type of system
            type: string
            enum: [FREE-FLOATING, STATION-BASED, VIRTUAL-STATION-BASED]
            example: free-floating
          conditions:
            description: Added to include possibility to communicatie general rental conditions like minimum age, max. reservation time etc. [amended]
            type: string
    system-pricing-plan:
      required:
       - plan-id
       - name
       - currency
       - price
       - isTaxable
       - description
      properties:
        plan-id:
          type: string
          description: a unique identifier for this plan in the system
          example: freeplan1
        url:
          type: string
          description: a fully qualified URL where the customer can learn more about this particular scheme
          example: https://www.rentmyfreebike.com/freeplan
        name:
          type: string
          description: name of this pricing scheme
          example: Free Plan
        currency:
          type: string
          description: currency this pricing is in
          format: iso_4217
          example: XDR
        fare:
          $ref: '#/components/schemas/fare'
        is-taxable:
          type: boolean
          description: false indicates that no additional tax will be added (either because tax is not charged, or because it is included) true indicates that tax will be added to the base price
        description:
          type: string
          description: Text field describing the particular pricing plan in human readable terms. This should include the duration, price, conditions, etc. that the publisher would like users to see. This is intended to be a human-readable description and should not be used for automatic calculations
          example: Unlimited plan for free bikes, as long as you don't break them!    
    system-region:
      required:
       - region-id
       - name
      properties:
        region-id:
          type: string
          description: Unique identifier for this region
          example: BikeRegion
        name:
          type: string
          description: Public name for this region
          example: BikeTown    
    time:
      description: A time description in hh:mm, 24-hour notation.
      type: object
      properties: 
        time: 
          type: string
        timezone: 
          type: string
    timestamp:
      description: A UTC timestamp (number of milliseconds in a Date object since January
        1, 1970, 00:00:00)
      example: 1546336800
    token:
      description: The validity token (such as booking ID, travel ticket etc.) that MaaS clients will display to validate the trip when starting the leg.
      properties:
        validity-duration:
          description: The rules that MaaS will interpret to schedule, -validate or cancel the booking.
          type: object
          properties:
            from:
              description: The starting time from which the ticket is valid
              $ref: '#/components/schemas/timestamp'
            to:
              description: The finishing time the ticket is valid for
              $ref: '#/components/schemas/timestamp'
            meta:
              description: Arbitrary metadata the TO may pass along the ticket to the client (e.g. a booking code, base64 encoded binary)
              type: object
    type-of-asset:
      required:
        - type-id
        - name
      properties:
        type-id:
          type: string
          description: unique identifier of a type
        name:
          type: string
          description: name of asset type
        travel-abroad:
          type: boolean
          description: true indicates asset is allowed to travel abroad
        air-conditioning:
          type: boolean
          description: true indicates airconditioning required
        asset-class:
          type: string
          description: classification of the asset
        brand:
          type: string
          description: brand of the asset
        cabrio:
          type: boolean
          description: true indicates cabrio required
        colour:
          type: string
          description: colour of the asset
        cargo:
          type: string
          description: describes options to carry cargo  
        easy-accessibility:
          type: string
          description: describes if asset is or needs to be easily accessible 
          enum: [LIFT, ESCALATOR, GROUND LEVEL, SIGHTIMPAIRMENT, HEARINGIMPAIRMENT, WHEELCHAIR]
        gears:
          type: integer
          description: number of gears of the asset
        gearbox:
          type: string
          description: type of gearbox
          enum: [MANUAL, AUTOMATIC, SEMIAUTOMATIC]
        image:
          type: string
          format: url
        infant-seat:
          type: boolean
          description: true indicates infant seat required
        persons:
          type: integer
          description: number of persons able to use the asset
        pets:
          type: boolean
          description: true indicates pets are allowed on asset
        propulsion:
          type: string
          description: way in which the asset is powered
          enum: [MUSCLE, ELECTRIC, GASOLINE, DIESEL, HYBRID, LPG, HYDROGEN]
        smoking:
          type: boolean
          description: true indicates smoking is allowed on asset
        state-of-charge:
          type: integer
          minimum: 0
          maximum: 100
          description: percentage of charge available
        towing-hook:
          type: boolean
          description: true indicates towing hook required
        underground-parking:
          type: boolean
          description: true indicates underground parking is allowed with asset
        winter-tires:
          type: boolean
          description: true indicates winter tires required
        other:
          type: string
          description: free text to describe asset
    
