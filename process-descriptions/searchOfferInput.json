{
  "description": "A package planning request, resulting in package options",
  "schema": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string",
        "enum": [
          "SEARCH_OFFER",
          "TRAVELLER",
          "CHANGE_TIMES",
          "PRODUCT",
          "ASSET",
          "ANCILLARY",
          "PURCHASE",
          "2_PHASE_PURCHASE",
          "COMMIT",
          "RELEASE",
          "PURCHASE_PACKAGE",
          "EXTEND_EXPIRY_TIME",
          "LEG",
          "PAYMENT_REQUEST",
          "PAYMENT_CONFIRMATION",
          "REDRESS"
        ]
      },
      "packageId": {
        "type": "string"
      },
      "legId": {
        "type": "string",
        "description": "default string, full names etc (length 0-200)",
        "maxLength": 200
      },
      "productId": {
        "type": "string",
        "description": "default string, full names etc (length 0-200)",
        "maxLength": 200
      },
      "timestamp": {
        "type": "string",
        "description": "https://www.rfc-editor.org/rfc/rfc3339#section-5.6, date-time"
      },
      "comment": {
        "type": "string",
        "description": "long string, memos etc (length 0-10.000)",
        "maxLength": 10000
      },
      "from": {
        "type": "string",
        "description": "default string, full names etc (length 0-200)",
        "maxLength": 200
      },
      "via": {
        "type": "array",
        "description": "use an ID contained in the 'places' field, or from an external source, when using coordinates, please use the prefix 'gps:'",
        "items": {
          "type": "string",
          "description": "default string, full names etc (length 0-200)",
          "maxLength": 200
        },
        "minItems": 0,
        "maxItems": 3
      },
      "to": {
        "type": "string",
        "description": "default string, full names etc (length 0-200)",
        "maxLength": 200
      },
      "startTime": {
        "type": "string",
        "description": "https://www.rfc-editor.org/rfc/rfc3339#section-5.6, date-time"
      },
      "endTime": {
        "type": "string",
        "description": "https://www.rfc-editor.org/rfc/rfc3339#section-5.6, date-time"
      },
      "placeDefinitions": {
        "type": "array",
        "description": "Places that are not specified in an external data source (like a home address)",
        "items": {
          "type": "object",
          "description": "address parts, where addressLine1 and 2 should contain the complete address, matches Content-Language",
          "properties": {
            "addressLine1": {
              "type": "string",
              "description": "long string, memos etc (length 0-10.000)",
              "maxLength": 10000
            },
            "addressLine2": {
              "type": "string",
              "description": "long string, memos etc (length 0-10.000)",
              "maxLength": 10000
            },
            "street": {
              "type": "string",
              "description": "default string, full names etc (length 0-200)",
              "maxLength": 200
            },
            "houseNumber": {
              "type": "integer",
              "description": "default length for an integer (0-1000)",
              "minimum": 0,
              "maximum": 1000
            },
            "houseNumberAddition": {
              "type": "string",
              "description": "real short string, codes (length 0-10)",
              "maxLength": 10
            },
            "postalCode": {
              "type": "string",
              "description": "short string, display names (length 0-75)",
              "maxLength": 75
            },
            "city": {
              "type": "string",
              "description": "short string, display names (length 0-75)",
              "maxLength": 75
            },
            "province": {
              "type": "string",
              "description": "short string, display names (length 0-75)",
              "maxLength": 75
            },
            "state": {
              "type": "string",
              "description": "short string, display names (length 0-75)",
              "maxLength": 75
            },
            "country": {
              "type": "string",
              "description": "two-letter country codes according to ISO 3166-1",
              "minLength": 2,
              "maxLength": 2
            },
            "additionalInfo": {
              "type": "string",
              "description": "long string, memos etc (length 0-10.000)",
              "maxLength": 10000
            }
          }
        },
        "minItems": 0,
        "maxItems": 3
      },
      "party": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "travellers": {
              "type": "array",
              "description": "this describes the travelling party, the users (when purchasing or later, when anonymous travelling is not applicable) or user profiles (during the offers)",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "INDIVIDUAL_TRAVELLER",
                      "USER_PROFILE",
                      "GROUP_PROFILE",
                      "COMPANION_PROFILE",
                      "COMMERCIAL_PROFILE",
                      "ENTITLEMENT",
                      "CARD_TYPE",
                      "CARD",
                      "LICENSE_TYPE",
                      "LICENSE",
                      "ASSET"
                    ]
                  },
                  "number": {
                    "type": "number",
                    "description": "specifying the sequence number of the traveller in the travelling party."
                  }
                }
              }
            },
            "parameters": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "ORGANISATIONAL",
                      "SEATING",
                      "DISTRIBUTION",
                      "NETWORK",
                      "ROUTING",
                      "SERVICE",
                      "TEMPORAL",
                      "EQUIPMENT",
                      "CANCEL",
                      "PAYMENT",
                      "PURCHASE",
                      "EXECUTION"
                    ]
                  },
                  "number": {
                    "type": "number",
                    "description": "reference to a specific numbered usage. If lacking, it applies to the whole travelling party."
                  }
                }
              }
            }
          }
        },
        "minItems": 1,
        "maxItems": 10
      }
    }
  }
}